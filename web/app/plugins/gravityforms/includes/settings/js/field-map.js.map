{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./js/src/components/Tooltips.js","webpack:///./js/src/field-map/index.js","webpack:///./js/src/field-map/mapping.js"],"names":["wp","element","Component","Fragment","__","i18n","Tooltip","props","tooltip","render","FieldMap","arguments","state","mapping","JSON","parse","document","querySelector","input","value","addMapping","bind","deleteMapping","getMapping","updateMapping","populateRequiredMappings","getRequiredChoices","length","index","keyField","allow_custom","choices","key","splice","custom_key","custom_value","setMapping","setState","stringify","item","name","i","choice","choiceName","foundChoice","getChoice","filter","m","map","display_all","requiredChoices","required","push","ii","subChoice","mappedFields","includes","default_value","count","invalidChoices","limit","valueField","inputType","keyCount","countKeyFieldChoices","title","selectedChoice","getMappedChoices","window","initializeFieldMap","container","getElementById","Mapping","fieldId","getKeyInputId","isInvalid","getKeyInput","getValueInput","getAddButton","getDeleteButton","inputId","mapIndex","placeholder","label","renderRequiredSpan","e","target","preventDefault","getKeyOptions","addPlaceholder","addCustomKey","mappedChoices","allow_duplicates","choiceNames","c","optionKeyBase","options","choice_value","disabled","getValueInputId","getValueOptions","opt","o","values","canAdd","canDelete"],"mappings":"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","file":"includes/settings/js/field-map.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./js/src/field-map/index.js\");\n","/**\n * WordPress dependencies\n */\nconst { Component, Fragment } = wp.element;\nconst { __ } = wp.i18n;\n\nexport default class Tooltip extends Component {\n\n\trender() {\n\t\tif ( this.props.tooltip ) {\n\t\t\treturn <button type=\"button\" className=\"gf_tooltip tooltip\" aria-label={ this.props.tooltip }>\n\t\t\t\t<i className=\"gform-icon gform-icon--question-mark\" aria-hidden=\"true\"></i></button>;\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t}\n}\n","/**\n * WordPress dependencies\n */\nconst { Component, render } = wp.element;\n\n/**\n * Internal dependencies\n */\nimport Mapping from './mapping';\n\nclass FieldMap extends Component {\n\n\tconstructor() {\n\n\t\tsuper( ...arguments );\n\n\t\tthis.state = {\n\t\t\tmapping: JSON.parse( document.querySelector( `[name=\"${ this.props.input }\"]` ).value )\n\t\t};\n\n\t\tthis.addMapping = this.addMapping.bind( this );\n\t\tthis.deleteMapping = this.deleteMapping.bind( this );\n\t\tthis.getMapping = this.getMapping.bind( this );\n\t\tthis.updateMapping = this.updateMapping.bind( this );\n\t}\n\n\tcomponentDidMount() {\n\n\t\tthis.populateRequiredMappings();\n\n\t\t// Ensure there is at least one item.\n\t\tif ( this.getRequiredChoices().length === 0 && this.getMapping().length < 1 ) {\n\t\t\tthis.addMapping( 0 );\n\t\t}\n\n\t}\n\n\n\n\n\n\t// # MAPPING DATA METHODS ------------------------------------------------------------------------------------------\n\n\t/**\n\t * Add a new mapping item.\n\t *\n\t * @param {integer} index Index to add item at.\n\t */\n\taddMapping( index ) {\n\n\t\tconst { allow_custom, choices } = this.props.keyField;\n\n\t\tlet mapping = this.getMapping(),\n\t\t\tkey = choices.length === 0 && allow_custom ? 'gf_custom' : '';\n\n\t\tmapping.splice( index + 1, 0, {\n\t\t\tkey:          key,\n\t\t\tcustom_key:   '',\n\t\t\tvalue:        '',\n\t\t\tcustom_value: '',\n\t\t} );\n\n\t\tthis.setMapping( mapping );\n\n\t}\n\n\t/**\n\t * Remove a mapping item.\n\t *\n\t * @param {integer} index Index of item to remove.\n\t */\n\tdeleteMapping( index ) {\n\n\t\tlet mapping = this.getMapping();\n\n\t\tmapping.splice( index, 1 );\n\n\t\tthis.setMapping( mapping );\n\n\t}\n\n\t/**\n\t * Get current mappings.\n\t *\n\t * @returns {array}\n\t */\n\tgetMapping() {\n\n\t\treturn this.state.mapping;\n\n\t}\n\n\t/**\n\t * Set current mappings.\n\t *\n\t * @param {object} mapping Collection of field mappings.\n\t */\n\tsetMapping( mapping ) {\n\n\t\tconst { input } = this.props;\n\n\t\tthis.setState( { mapping } );\n\n\t\tdocument.querySelector( `[name=\"${ input }\"]` ).value = JSON.stringify( mapping );\n\n\t}\n\n\t/**\n\t * Update a mapping item.\n\t *\n\t * @param {object} item Mapping item.\n\t * @param {integer} index Index of item to update.\n\t */\n\tupdateMapping( item, index ) {\n\n\t\tlet mapping = this.getMapping();\n\n\t\tif ( ! item.key ) {\n\t\t\titem.value = '';\n\t\t}\n\n\t\tmapping[ index ] = item;\n\n\t\tthis.setMapping( mapping );\n\n\t}\n\n\n\n\n\n\t// # CHOICE METHODS ------------------------------------------------------------------------------------------------\n\n\t/**\n\t * Get choice properties by name.\n\t *\n\t * @since 2.5\n\t *\n\t * @param {string} name Choice name.\n\t * @param {array} choices Choices to search in.\n\t *\n\t * @returns {boolean|object}\n\t */\n\tgetChoice( name, choices = false ) {\n\n\t\tif ( ! choices ) {\n\t\t\tchoices = this.props.keyField.choices;\n\t\t}\n\n\t\tfor ( let i = 0; i < choices.length; i++ ) {\n\n\t\t\tlet choice = choices[ i ],\n\t\t\t    choiceName = choice.name || choice.value;\n\n\t\t\tif ( choiceName === name ) {\n\t\t\t\treturn choices[ i ];\n\t\t\t}\n\n\t\t\tif ( choice.choices ) {\n\t\t\t\tlet foundChoice = this.getChoice( name, choice.choices );\n\t\t\t\tif ( foundChoice ) {\n\t\t\t\t\treturn foundChoice;\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\n\t\treturn false;\n\n\t}\n\n\t/**\n\t * Get names of mapped choices.\n\t */\n\tgetMappedChoices() {\n\n\t\tconst mapping = this.getMapping();\n\n\t\treturn mapping.filter( ( m ) => m.key && m.key !== 'gf_custom' ).map( ( m ) => m.key );\n\n\t}\n\n\t/**\n\t * Get names of required choices.\n\t *\n\t * @returns {array}\n\t */\n\tgetRequiredChoices() {\n\t\tconst { choices, display_all } = this.props.keyField;\n\t\tlet requiredChoices = [];\n\n\t\tfor ( let i = 0; i < choices.length; i++ ) {\n\n\t\t\tconst choice = choices[ i ];\n\n\t\t\tif ( choice.required || display_all ) {\n\t\t\t\trequiredChoices.push( choice.name || choice.value );\n\t\t\t}\n\n\t\t\tif ( choice.choices ) {\n\n\t\t\t\tfor ( let ii = 0; ii < choice.choices.length; ii++ ) {\n\t\t\t\t\tlet subChoice = choice.choices[ ii ];\n\n\t\t\t\t\tif ( subChoice.required || display_all ) {\n\t\t\t\t\t\trequiredChoices.push( subChoice.name || subChoice.value );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn requiredChoices;\n\n\t}\n\n\t/**\n\t * Populate mapping with required choices.\n\t */\n\tpopulateRequiredMappings() {\n\n\t\tconst mapping = this.getMapping();\n\t\tconst requiredChoices = this.getRequiredChoices();\n\n\t\t// Get mapped fields.\n\t\tconst mappedFields = mapping.map( ( mapping ) => mapping.key );\n\n\t\t// Loop through required choices. If not mapped, add to mapping.\n\t\tfor ( let i = 0; i < requiredChoices.length; i++ ) {\n\n\t\t\t// If field is mapped, skip.\n\t\t\tif ( mappedFields.includes( requiredChoices[ i ] ) ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Add to mapping.\n\t\t\tmapping.push( {\n\t\t\t\tkey:          requiredChoices[ i ],\n\t\t\t\tcustom_key:   '',\n\t\t\t\tvalue:        '',\n\t\t\t\tcustom_value: '',\n\t\t\t} );\n\n\t\t}\n\n\t\t// Auto populate default values.\n\t\tfor ( let i = 0; i < mapping.length; i ++ ) {\n\t\t\t// If field have a stored value already, skip.\n\t\t\tif ( mapping[ i ].value !== '' ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tlet choice = this.getChoice( mapping[ i ].key );\n\t\t\t// If choice have a default value, get it and set it as value.\n\t\t\tif ( choice && 'default_value' in choice ) {\n\t\t\t\tmapping[ i ].value = choice.default_value;\n\t\t\t}\n\t\t}\n\n\t\tthis.setMapping( mapping );\n\n\t}\n\n\t// Count how many possible choices there are.\n\tcountKeyFieldChoices() {\n\n\t\tconst { choices } = this.props.keyField;\n\n\t\tlet count = 0;\n\n\t\tfor ( let i = 0; i < choices.length; i ++ ) {\n\t\t\tif ( choices[ i ].choices ) {\n\t\t\t\tcount += choices[ i ].choices.length;\n\t\t\t} else {\n\t\t\t\tcount++;\n\t\t\t}\n\t\t}\n\n\t\treturn count;\n\n\t}\n\n\n\n\n\t// # RENDER METHODS ------------------------------------------------------------------------------------------------\n\n\trender() {\n\n\t\tconst { keyField, invalidChoices, limit, valueField, input, inputType } = this.props;\n\t\tconst mapping  = this.getMapping();\n\t\tconst keyCount = this.countKeyFieldChoices();\n\n\t\treturn (\n\t\t\t<table className=\"gform-settings-generic-map__table\" cellSpacing=\"0\" cellPadding=\"0\">\n\t\t\t\t<tbody>\n\t\t\t\t<tr className=\"gform-settings-generic-map__row\">\n\t\t\t\t\t<th className=\"gform-settings-generic-map__column gform-settings-generic-map__column--heading gform-settings-generic-map__column--key\">{ keyField.title }</th>\n\t\t\t\t\t<th className=\"gform-settings-generic-map__column gform-settings-generic-map__column--heading gform-settings-generic-map__column--value\">{ valueField.title }</th>\n\t\t\t\t\t<th className=\"gform-settings-generic-map__column gform-settings-generic-map__column--heading gform-settings-generic-map__column--error\"></th>\n\t\t\t\t\t<th className=\"gform-settings-generic-map__column gform-settings-generic-map__column--heading gform-settings-generic-map__column--buttons\"></th>\n\t\t\t\t</tr>\n\t\t\t\t{\n\t\t\t\t\tmapping.map(\n\t\t\t\t\t\t( m, index ) => {\n\n\t\t\t\t\t\t\tlet selectedChoice = this.getChoice( m.key );\n\n\t\t\t\t\t\t\treturn <Mapping\n\t\t\t\t\t\t\t\tkey={ index }\n\t\t\t\t\t\t\t\tmapping={ m }\n\t\t\t\t\t\t\t\tchoice={ selectedChoice }\n\t\t\t\t\t\t\t\tmappedChoices={ this.getMappedChoices() }\n\t\t\t\t\t\t\t\tisInvalid={ m.key && invalidChoices.includes( m.key ) }\n\t\t\t\t\t\t\t\tkeyField={ keyField }\n\t\t\t\t\t\t\t\tvalueField={ valueField }\n\t\t\t\t\t\t\t\tcanAdd={ ( keyField.allow_custom && ( limit === 0 || mapping.length <= limit ) ) || ( ! keyField.allow_custom && mapping.length < keyCount ) }\n\t\t\t\t\t\t\t\tcanDelete={ mapping.length > 1 && ! selectedChoice.required && ! keyField.display_all }\n\t\t\t\t\t\t\t\taddMapping={ this.addMapping }\n\t\t\t\t\t\t\t\tdeleteMapping={ this.deleteMapping }\n\t\t\t\t\t\t\t\tupdateMapping={ this.updateMapping }\n\t\t\t\t\t\t\t\tindex={ index }\n\t\t\t\t\t\t\t\tinputId={ input }\n\t\t\t\t\t\t\t\tinputType={ inputType }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t\t</tbody>\n\t\t\t</table>\n\t\t)\n\n\t}\n\n}\n\nwindow.initializeFieldMap = ( container, props ) => {\n\n\trender(\n\t\t<FieldMap\n\t\t\t{...props}\n\t\t/>,\n\t\tdocument.getElementById( container )\n\t);\n\n};\n","/**\n * WordPress dependencies\n */\nconst { Component, Fragment } = wp.element;\nconst { __ } = wp.i18n;\n\nimport Tooltip from '../components/Tooltips';\n\nexport default class Mapping extends Component {\n\n\trenderRequiredSpan() {\n\t\tconst choice = this.props.choice;\n\t\tconst fieldId = this.getKeyInputId();\n\n\t\tif ( choice.required ) {\n\t\t\treturn <span className=\"required\" id={ fieldId }>*</span>\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t}\n\n\trender() {\n\n\t\tconst { isInvalid, index } = this.props;\n\n\t\treturn (\n\t\t\t<tr className=\"gform-settings-generic-map__row\">\n\t\t\t\t<td className=\"gform-settings-generic-map__column gform-settings-generic-map__column--key\">\n\t\t\t\t\t{ this.getKeyInput( index ) }\n\t\t\t\t</td>\n\t\t\t\t<td className=\"gform-settings-generic-map__column gform-settings-generic-map__column--value\">\n\t\t\t\t\t{ this.getValueInput() }\n\t\t\t\t</td>\n\t\t\t\t<td className=\"gform-settings-generic-map__column gform-settings-generic-map__column--error\">\n\t\t\t\t\t{\n\t\t\t\t\t\tisInvalid && <svg width=\"22\" height=\"22\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t\t\t\t<path d=\"M11 22C4.9249 22 0 17.0751 0 11S4.9249 0 11 0s11 4.9249 11 11-4.9249 11-11 11z\" fill=\"#E54C3B\"/>\n\t\t\t\t\t\t\t<path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M9.9317 5.0769a.1911.1911 0 00-.1909.2006l.3708 7.4158a.8895.8895 0 001.7768 0l.3708-7.4158a.1911.1911 0 00-.1909-.2006H9.9317zm2.3375 10.5769c0 .701-.5682 1.2693-1.2692 1.2693-.701 0-1.2692-.5683-1.2692-1.2693 0-.7009.5682-1.2692 1.2692-1.2692.701 0 1.2692.5683 1.2692 1.2692z\" fill=\"#fff\"/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t}\n\t\t\t\t</td>\n\t\t\t\t<td className=\"gform-settings-generic-map__column gform-settings-generic-map__column--buttons\">\n\t\t\t\t\t{ this.getAddButton() }\n\t\t\t\t\t{ this.getDeleteButton() }\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t)\n\n\t}\n\n\tgetValueInputId() {\n\t\tconst { inputId, inputType, index, mapping } = this.props;\n\n\t\tswitch( inputType ) {\n\t\t\tcase 'generic_map':\n\t\t\tcase 'dynamic_field_map':\n\t\t\t\treturn `${inputId}_custom_value_${index}`;\n\t\t\tdefault:\n\t\t\t\treturn `${inputId}_${mapping.key}`;\n\t\t}\n\t}\n\n\tgetKeyInputId() {\n\t\tconst { inputId, inputType, index, mapping } = this.props;\n\n\t\tswitch( inputType ) {\n\t\t\tcase 'generic_map':\n\t\t\tcase 'dynamic_field_map':\n\t\t\t\treturn `${inputId}_custom_key_${index}`;\n\t\t\tdefault:\n\t\t\t\treturn `${inputId}_${mapping.key}_key`;\n\t\t}\n\t}\n\n\n\t// # KEY COLUMN ----------------------------------------------------------------------------------------------------\n\n\t/**\n\t * Prepare input for key column.\n\t * If choice is required, returns only text.\n\t *\n\t * @returns {*}\n\t */\n\tgetKeyInput( mapIndex ) {\n\t\tconst { choice, keyField, index, mapping, updateMapping } = this.props;\n\t\tconst { choices, display_all, placeholder } = keyField;\n\n\t\tconst fieldId = this.getKeyInputId();\n\n\t\t// If currently selected choice is required or we are displaying all keys, display label.\n\t\tif ( choice.required || display_all ) {\n\t\t\treturn <Fragment><label>{ choice.label } { this.renderRequiredSpan() } </label><Tooltip tooltip={ choice.tooltip }></Tooltip></Fragment>\n\t\t}\n\n\t\t// If selected choice is custom key, display input.\n\t\tif ( mapping.key === 'gf_custom' ) {\n\n\t\t\treturn (\n\t\t\t\t<span className=\"gform-settings-generic-map__custom\">\n\t\t\t\t\t<input id={ fieldId } type=\"text\" value={ mapping.custom_key } placeholder={ placeholder } onChange={ ( e ) => updateMapping( { ...mapping, custom_key: e.target.value }, index ) } />\n\t\t\t\t\t{\n\t\t\t\t\t\tchoices.length > 0 && <button className=\"gform-settings-generic-map__reset\" onClick={ ( e ) => { e.preventDefault(); updateMapping( { ...mapping, key: '', custom_key: '' }, index ); } }>\n\t\t\t\t\t\t\t<span className=\"screen-reader-text\">{ __( 'Remove Custom Key', 'gravityforms' ) }</span>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t}\n\t\t\t\t</span>\n\t\t\t);\n\n\t\t}\n\n\t\treturn (\n\t\t\t<select\n\t\t\t\tid={ fieldId }\n\t\t\t\tvalue={ mapping.key }\n\t\t\t\tonChange={ ( e ) => updateMapping( { ...mapping, key: e.target.value }, index ) }\n\t\t\t>\n\t\t\t\t{ this.getKeyOptions( mapIndex ) }\n\t\t\t</select>\n\t\t);\n\n\t}\n\n\t/**\n\t * Get options for key drop down.\n\t *\n\t * @since 2.5\n\t *\n\t * @param {integer} mapIndex       Index of current mapping object.\n\t * @param {array}   choices        Choices to build options from.\n\t * @param {boolean} addPlaceholder Include the \"Select a Field\" choice.\n\t * @param {boolean} addCustomKey   Include the \"Add Custom Key\" choice.\n\t *\n\t * @returns {{label: string, value: string, disabled: boolean}[]}\n\t */\n\tgetKeyOptions( mapIndex, choices = false, addPlaceholder = true, addCustomKey = true ) {\n\n\t\tconst { keyField, mappedChoices, mapping } = this.props;\n\t\tconst { allow_custom, allow_duplicates } = keyField;\n\n\t\tif ( ! choices ) {\n\t\t\tchoices = keyField.choices;\n\t\t}\n\n\t\tconst choiceNames = choices.map( ( c ) => c.name || c.value );\n\t\tconst optionKeyBase = `select-${ mapIndex }-optiongroup-`;\n\n\t\t// Initialize options array.\n\t\tlet options = [];\n\t\tif ( ! choiceNames.includes( '' ) && addPlaceholder ) {\n\t\t\toptions.push(\n\t\t\t\t(\n\t\t\t\t\t<option\n\t\t\t\t\t\tkey={ `${ optionKeyBase }-default` }\n\t\t\t\t\t\tvalue=\"\"\n\t\t\t\t\t\tdisabled={ false }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Select a Field', 'gravityforms' ) }\n\t\t\t\t\t</option>\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\n\t\t// Loop through choices, add as options.\n\t\tfor ( let i = 0; i < choices.length; i++ ) {\n\n\t\t\tlet choice = choices[ i ],\n\t\t\t\tchoice_value = choice.name || choice.value;\n\n\t\t\t// If this is a required choice, do not add as an option.\n\t\t\tif ( choice.required ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// If choice is already selected, disable it.\n\t\t\tlet disabled = mappedChoices.includes( choice_value ) && choice_value !== mapping.key && ! allow_duplicates;\n\n\t\t\t// Add optgroups for choices with sub-choices.\n\t\t\tif ( choice.choices && choice.choices.length > 0 ) {\n\n\t\t\t\toptions.push(\n\t\t\t\t\t(\n\t\t\t\t\t\t<optgroup\n\t\t\t\t\t\t\tlabel={ choice.label }\n\t\t\t\t\t\t\tkey={ `${ optionKeyBase }-${ i }` }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ this.getKeyOptions( `${ mapIndex }.${ i }`, choice.choices, false, false ) }\n\t\t\t\t\t\t</optgroup>\n\t\t\t\t\t)\n\t\t\t\t);\n\n\t\t\t}  else {\n\n\t\t\t\toptions.push(\n\t\t\t\t\t(\n\t\t\t\t\t\t<option\n\t\t\t\t\t\t\tkey={ `${ optionKeyBase }-${ i }` }\n\t\t\t\t\t\t\tvalue={ choice.value }\n\t\t\t\t\t\t\tdisabled={ disabled }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ choice.label }\n\t\t\t\t\t\t</option>\n\t\t\t\t\t)\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Add custom key if enabled and is not already present.\n\t\tif ( allow_custom && ! choiceNames.includes( 'gf_custom' ) && addCustomKey ) {\n\t\t\toptions.push(\n\t\t\t\t(\n\t\t\t\t\t<option\n\t\t\t\t\t\tkey={ `${ optionKeyBase }-custom` }\n\t\t\t\t\t\tvalue=\"gf_custom\"\n\t\t\t\t\t\tdisabled={ false }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Add Custom Key', 'gravityforms' ) }\n\t\t\t\t\t</option>\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\n\t\treturn options;\n\n\t}\n\n\n\t// # VALUE COLUMN --------------------------------------------------------------------------------------------------\n\n\t/**\n\t * Prepare input for value column.\n\t *\n\t * @returns {*}\n\t */\n\tgetValueInput() {\n\n\t\tconst { choice, index, isInvalid, mapping, updateMapping, valueField } = this.props;\n\n\t\tconst required = choice.required;\n\t\tconst fieldId  = this.getValueInputId();\n\n\t\t// If selected value is custom value, display input.\n\t\tif ( mapping.value === 'gf_custom' ) {\n\n\t\t\treturn (\n\t\t\t\t<span className=\"gform-settings-generic-map__custom\">\n\t\t\t\t\t<input id={ fieldId } type=\"text\" value={ mapping.custom_value } placeholder={ valueField.placeholder } onChange={ ( e ) => updateMapping( { ...mapping, custom_value: e.target.value }, index ) } />\n\t\t\t\t\t<button className=\"gform-settings-generic-map__reset\" onClick={ ( e ) => { e.preventDefault(); updateMapping( { ...mapping, value: '', custom_value: '' }, index ); } }>\n\t\t\t\t\t\t<span className=\"screen-reader-text\">{ __( 'Remove Custom Value', 'gravityforms' ) }</span>\n\t\t\t\t\t</button>\n\t\t\t\t</span>\n\t\t\t);\n\n\t\t}\n\n\t\treturn (\n\t\t\t<select\n\t\t\t\tid={ fieldId }\n\t\t\t\tdisabled={ mapping.key === '' || ! mapping.key }\n\t\t\t\tvalue={ mapping.value }\n\t\t\t\tonChange={ ( e ) => updateMapping( { ...mapping, value: e.target.value }, index ) }\n\t\t\t\tclassName={ isInvalid ? 'gform-settings-generic-map__value--invalid' : '' }\n\t\t\t\trequired={ required }\n\t\t\t>\n\t\t\t\t{\n\t\t\t\t\tthis.getValueOptions().map(\n\t\t\t\t\t\t( opt ) => {\n\t\t\t\t\t\t\tif ( opt.choices && opt.choices.length > 0 ) {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<optgroup key={ opt.label } label={ opt.label }>\n\t\t\t\t\t\t\t\t\t\t{ opt.choices.map( ( o ) => <option key={ o.value } value={ o.value }>{ o.label }</option> ) }\n\t\t\t\t\t\t\t\t\t</optgroup>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treturn ( <option key={ opt.value } value={ opt.value }>{ opt.label }</option> );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t</select>\n\t\t);\n\n\t}\n\n\t/**\n\t * Get options for value drop down.\n\t *\n\t * @returns {{label: *, value: boolean}[]}\n\t */\n\tgetValueOptions() {\n\n\t\tconst { choice, valueField } = this.props;\n\t\tconst { allow_custom } = valueField;\n\t\tlet choices = choice.choices || valueField.choices;\n\n\t\tlet values = choices.map( ( c ) => c.value );\n\n\t\t// Add custom key if enabled and is not already present.\n\t\tif ( allow_custom && ! values.includes( 'gf_custom' ) ) {\n\t\t\tchoices.push(\n\t\t\t\t{\n\t\t\t\t\tlabel:    __( 'Add Custom Value', 'gravityforms' ),\n\t\t\t\t\tvalue:    'gf_custom',\n\t\t\t\t\tdisabled: false,\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\n\t\treturn choices;\n\n\t}\n\n\n\n\n\n\t// # BUTTONS -------------------------------------------------------------------------------------------------------\n\n\t/**\n\t * Get add mapping button.\n\t *\n\t * @returns {null|*}\n\t */\n\tgetAddButton() {\n\n\t\tconst { canAdd, addMapping, index } = this.props;\n\n\t\t// If mapping cannot be added, do not show button.\n\t\tif ( ! canAdd ) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn <button className=\"gform-settings-generic-map__button gform-settings-generic-map__button--add\" onClick={ ( e ) => { e.preventDefault(); addMapping( index ); } }>\n\t\t\t<span className=\"screen-reader-text\">{ __( 'Add', 'gravityforms' ) }</span>\n\t\t</button>\n\n\t}\n\n\t/**\n\t * Get delete mapping button.\n\t *\n\t * @returns {null|*}\n\t */\n\tgetDeleteButton() {\n\n\t\tconst { canDelete, deleteMapping, index } = this.props;\n\n\t\t// If mapping cannot be deleted, do not show button.\n\t\tif ( ! canDelete ) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn <button className=\"delete_field_choice gform-st-icon gform-st-icon--circle-minus gform-settings-generic-map__button gform-settings-generic-map__button--delete\" onClick={ ( e ) => { e.preventDefault(); deleteMapping( index ); } }>\n\t\t\t<span className=\"screen-reader-text\">{ __( 'Delete', 'gravityforms' ) }</span>\n\t\t</button>\n\n\t}\n\n}\n"],"sourceRoot":""}