jQuery(document).ready(function($){"use strict";var ajaxurl=window.ajaxurl,framework=window.framework;$("ul.sortable").sortable({tolerance:"intersect",cursor:"pointer",items:"> li",axi:"y",placeholder:"placeholder",nested:"ul",stop:function(event,ui){$(".sortable").each(function(){for(var liElements=$(this).children("li"),i=0;i<liElements.length;i++){var currentLi=$(liElements[i]);currentLi.attr("data-term-order",i)}})}}),$(".save-order").bind("click",function(){var terms={};$(".sortable").each(function(){for(var liElements=$(this).children("li"),i=liElements.length-1;i>=0;i--){var currentLi=$(liElements[i]),termID=currentLi.attr("data-term-id"),termOrder=currentLi.attr("data-term-order");terms[termID]=termOrder}}),$.post(ajaxurl,{action:"save_ht_kb_category_order",order:terms,security:framework.ajaxnonce},function(data,textStatus,jqXHR){try{"success"==data.state?$("#ajax-response").html('<div class="message updated fade"><p>'+data.message+"</p></div>"):$("#ajax-response").html('<div class="message error fade"><p>'+data.message+"</p></div>")}catch(err){$("#ajax-response").html('<div class="message error fade"><p>'+framework.ajaxerror+"</p></div>")}$("#ajax-response div").delay(3e3).hide("slow")},"json")})});